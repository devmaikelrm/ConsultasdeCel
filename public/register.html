<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crear cuenta — Teléfonos Cuba</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.4/dist/umd/supabase.min.js" defer></script>
  <script src="config.js" defer></script>
  <script src="app.js" defer></script>
</head>
<body data-page="register">
  <main class="container page-center">
    <section class="card auth-card">
      <h1 class="auth-title">Crea tu cuenta</h1>
      <p class="auth-sub">Regístrate para subir y validar modelos.</p>

      <form id="register-form" class="form">
        <label>Correo
          <input id="reg-email" type="email" placeholder="tu@correo.com" required>
        </label>

        <label>Contraseña
          <input id="reg-pass" type="password" placeholder="••••••••" minlength="6" required>
        </label>

        <label>Provincia
          <select id="reg-provincia" required>
            <option value="" disabled selected>Selecciona la provincia.</option>
          </select>
        </label>

        <button class="btn primary" type="submit">Registrarse</button>

        <p class="auth-links">
          ¿Ya tienes cuenta? <a href="login.html">Inicia sesión</a>
        </p>

        <p class="status" aria-live="polite"></p>
      </form>
    </section>
  </main>

  <footer class="donate-footer">
    <div class="donate-row">
      <a class="btn oauth paypal-btn" href="https://www.paypal.me/MReyesMorales343" target="_blank" rel="noopener">PayPal</a>
      <div class="cup-card">
        <div>
          <div class="cup-title">Tarjeta CUP (Cuba)</div>
          <div class="cup-num">9238 1299 7063 1810</div>
        </div>
      </div>
    </div>
  </footer>
  <script>
    // Fallback: si por alguna razón app.js no pobló provincias
    window.addEventListener('DOMContentLoaded', function(){
      var sel = document.getElementById('reg-provincia');
      if(!sel) return;
      var count = sel.options ? sel.options.length : 0;
      if(count > 1) return; // ya poblado (placeholder + items)
      var provincias = [
        'Pinar del Río','Artemisa','La Habana','Mayabeque','Matanzas','Cienfuegos',
        'Villa Clara','Sancti Spíritus','Ciego de Ávila','Camagüey','Las Tunas',
        'Holguín','Granma','Santiago de Cuba','Guantánamo','Isla de la Juventud'
      ];
      provincias.forEach(function(p){
        var o = document.createElement('option');
        o.value = p; o.textContent = p;
        sel.appendChild(o);
      });
    });
  </script>
</body>
</html>
